<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>CRUD de Inmobiliaria con Bootstrap</title>
    <!-- Agrega los estilos de Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Agrega estilos adicionales si es necesario -->

    <style>
        body {
            padding: 20px;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Inmobiliaria</h2>

    <!-- Formulario para agregar una nueva propiedad -->
    <form id="formulario">
        <div class="form-group">
            <label for="propiedad">Propiedad:</label>
            <input type="text" class="form-control" id="propiedad" required>
        </div>
        <div class="form-group">
            <label for="ubicacion">Ubicación:</label>
            <input type="text" class="form-control" id="ubicacion" required>
        </div>
        <div class="form-group">
            <label for="precio">Precio:</label>
            <input type="number" class="form-control" id="precio" required>
        </div>
        <button type="button" class="btn btn-primary" onclick="agregarPropiedad()">Agregar Propiedad</button>
    </form>

    <hr>

    <!-- Tabla para mostrar y manipular propiedades -->
    <table class="table">
        <thead>
        <tr>
            <th>ID</th>
            <th>Propiedad</th>
            <th>Ubicación</th>
            <th>Precio</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody id="tabla-body">
        <!-- Aquí se mostrarán las propiedades -->
        </tbody>
    </table>
</div>

<!-- Agrega los scripts de Bootstrap y jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Script personalizado para el CRUD de Inmobiliaria -->
<script>
    let idContador = 1; // Contador para asignar IDs únicos a las propiedades

    function agregarPropiedad() {
        // Obtener los valores de los campos
        const propiedad = document.getElementById('propiedad').value;
        const ubicacion = document.getElementById('ubicacion').value;
        const precio = document.getElementById('precio').value;

        // Validar si los campos no están vacíos
        if (propiedad.trim() !== '' && ubicacion.trim() !== '' && precio.trim() !== '') {
            // Crear una nueva fila en la tabla
            const fila = `<tr id="fila-${idContador}">
                            <td>${idContador}</td>
                            <td>${propiedad}</td>
                            <td>${ubicacion}</td>
                            <td>${precio}</td>
                            <td>
                                <button type="button" class="btn btn-warning btn-sm" onclick="editarPropiedad(${idContador})">Editar</button>
                                <button type="button" class="btn btn-danger btn-sm" onclick="eliminarPropiedad(${idContador})">Eliminar</button>
                            </td>
                          </tr>`;

            // Agregar la fila a la tabla
            document.getElementById('tabla-body').innerHTML += fila;

            // Incrementar el contador de IDs
            idContador++;

            // Limpiar los campos después de agregar
            document.getElementById('propiedad').value = '';
            document.getElementById('ubicacion').value = '';
            document.getElementById('precio').value = '';
        } else {
            alert('Por favor, complete todos los campos.');
        }
    }

    function editarPropiedad(id) {
        // Obtener los valores actuales de los campos
        const propiedadActual = document.getElementById(`fila-${id}`).children[1].innerText;
        const ubicacionActual = document.getElementById(`fila-${id}`).children[2].innerText;
        const precioActual = document.getElementById(`fila-${id}`).children[3].innerText;

        // Pedir al usuario nuevos valores
        const nuevaPropiedad = prompt('Editar propiedad:', propiedadActual);
        const nuevaUbicacion = prompt('Editar ubicación:', ubicacionActual);
        const nuevoPrecio = prompt('Editar precio:', precioActual);

        // Actualizar los valores en la tabla si se ingresaron nuevos valores
        if (nuevaPropiedad !== null && nuevaUbicacion !== null && nuevoPrecio !== null) {
            document.getElementById(`fila-${id}`).children[1].innerText = nuevaPropiedad;
            document.getElementById(`fila-${id}`).children[2].innerText = nuevaUbicacion;
            document.getElementById(`fila-${id}`).children[3].innerText = nuevoPrecio;
        }
    }

    function eliminarPropiedad(id) {
        // Confirmar la eliminación
        const confirmacion = confirm('¿Seguro que desea eliminar esta propiedad?');

        // Eliminar la fila si se confirma la eliminación
        if (confirmacion) {
            document.getElementById(`fila-${id}`).remove();
        }
    }
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyBB4VLEuWx4O57s4dfu9ii0BWLWJT33x58",
  authDomain: "proyectofari.firebaseapp.com",
  databaseURL: "https://proyectofari-default-rtdb.firebaseio.com",
  projectId: "proyectofari",
  storageBucket: "proyectofari.appspot.com",
  messagingSenderId: "538414020531",
  appId: "1:538414020531:web:08051bd59c98626d6a3dc6"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
</script>

</body>
</html>
